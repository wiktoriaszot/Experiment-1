<!doctype html>
<html lang="pl">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Autostereotypy w Polsce</title>

  <style>
    html, body { height: 100%; margin: 0; }

    body{
      display:flex;
      flex-direction:column;
      overflow-x:hidden;
      overflow-y:auto;
      font-family: system-ui, Arial, sans-serif;
      background:#fafafa;
      color:#111;
    }

    :root{
      --text:#111;
      --muted:#555;
      --line:#e7e7e7;
      --card:#fff;
      --bg:#fafafa;
      --shadow: 0 10px 30px rgba(0,0,0,0.07);
      --radius: 14px;
    }

    #topbar{ flex:0 0 auto; background:#fff; border-bottom:1px solid var(--line); padding: 6px 12px; }
    #content{ flex:1 1 auto; min-height:0; padding: 10px 12px 12px 12px; box-sizing:border-box; }

    #headerRow{ display:flex; align-items:flex-start; justify-content:space-between; gap:24px; }
    #titleBlock{ display:flex; flex-direction:column; gap:6px; }
    #title{ font-size:18px; font-weight:700; margin:0; white-space:nowrap; }
    #sub{ font-size:13px; color:#555; line-height:1.35; max-width:860px; }

    #progressWrap{ display:flex; align-items:center; gap:10px; font-size:13px; white-space:nowrap; }
    #progressBar{ width:220px; height:10px; }
    #progressText{ font-size:13px; color:#333; }

    .slide{ display:none; padding: 6px 0 0 0; }
    .slide.active{ display:block; }

    .card{
      max-width: 980px;
      margin: 4px auto 0 auto;
      border:1px solid var(--line);
      border-radius:var(--radius);
      padding:18px;
      box-sizing:border-box;
      background:var(--card);
      box-shadow: var(--shadow);
    }
    .centeredSlide .card{
      max-width: 860px;
      text-align:center;
    }
    .centeredSlide .h1{ font-size:28px; margin-bottom:10px; }
    .centeredSlide .p{ font-size:17px; margin-bottom:14px; }
    .centeredSlide .infoList{
      max-width:720px;
      margin:12px auto 0 auto;
      text-align:left;
      list-style-position:inside;
    }
    .centeredSlide .traitsGrid{
      max-width:720px;
      margin: 6px auto 0 auto;
    }
    .centeredSlide{
      min-height: calc(100vh - 180px);
      align-items:center;
      justify-content:center;
    }
    .centeredSlide.active{ display:flex; }

    .h1{ font-size:22px; font-weight:700; margin:0 0 8px 0; color:#111; }
    .p{ font-size:14px; color:var(--muted); margin:0 0 10px 0; line-height:1.5; }

    .grid{ display:grid; grid-template-columns: 1fr 1fr; gap:12px; }
    @media (max-width: 760px){
      .grid{ grid-template-columns: 1fr; }
      #progressBar{ width:160px; }

      #topbar{
        max-height: 100vh;
        overflow: auto;
        -webkit-overflow-scrolling: touch;
      }
      #slideCoverConsent .consentScroll{ max-height: none; }
      #slideCoverConsent .btnRow{ position: static; }
    }

    label{ font-size:13px; color:#333; display:block; margin:0 0 6px 0; }
    input[type="text"], input[type="number"], select{
      width:100%;
      padding:11px 12px;
      border:1px solid #cfcfcf;
      border-radius:10px;
      font-size:14px;
      box-sizing:border-box;
      background:#fff;
      transition: border-color .15s, box-shadow .15s;
    }
    input[type="text"]:focus, input[type="number"]:focus, select:focus{
      outline:none;
      border-color:#111;
      box-shadow:0 0 0 4px rgba(17,17,17,0.08);
    }

    .traitsGrid{
      display:grid;
      grid-template-columns: 1fr;
      grid-template-rows: repeat(8, auto);
      grid-auto-flow: row;
      gap:12px;
    }

    .traitRow{ display:flex; gap:12px; align-items:center; }
    .traitNum{ width:24px; text-align:right; font-size:12px; color:#666; flex:0 0 auto; }

    .btnRow{ display:flex; justify-content:center; gap:12px; margin: 14px 0 0 0; flex-wrap:wrap; }
    button{
      padding:10px 16px;
      font-size:14px;
      border:1px solid #cfcfcf;
      border-radius:12px;
      cursor:pointer;
      background:#fff;
      transition: transform .06s, box-shadow .15s, background .15s, border-color .15s;
    }
    button:hover{ box-shadow:0 8px 20px rgba(0,0,0,0.08); }
    button:active{ transform: translateY(1px); }
    button:disabled{ opacity:.55; cursor:not-allowed; box-shadow:none; }

    .primary{ background:#111; color:#fff; border-color:#111; }
    .primary:hover{ background:#000; border-color:#000; }
    .ghost{ background:#fff; }

    .error{ color:#b00020; font-size:13px; margin:10px 0 0 0; text-align:center; display:none; }

    #slideCoverConsent .card{
      max-width: 980px;
      border: none;
      background: transparent;
      padding: 0;
      box-shadow:none;
      margin-top: 6px;
    }
    #slideCoverConsent .coverWrap{
      position: relative;
      max-width: 980px;
      margin: 0 auto;
      padding: 8px 0 0 0;
    }
    #slideCoverConsent .crestRow{
      display:flex;
      align-items:center;
      gap:10px;
    }
    #slideCoverConsent .umCrest{
      width: 76px;
      height: auto;
    }
    #slideCoverConsent .coverTitle{
      text-align:center;
      font-family:"Times New Roman", Times, Georgia, serif;
      font-size:32px;
      letter-spacing:1px;
      margin: 14px 0 8px 0;
      font-weight:500;
      text-transform:uppercase;
      color:#111;
    }
    #slideCoverConsent .crestText{
      font-size:14px;
      color:#333;
      font-weight:600;
    }
    #slideCoverConsent .coverSub{
      text-align:center;
      font-size:13px;
      color:#444;
      margin:0 0 16px 0;
      line-height:1.4;
    }
    #slideCoverConsent .coverCard{
      border:1px solid var(--line);
      border-radius:var(--radius);
      padding:18px;
      background:#fff;
      box-shadow: var(--shadow);
      font-family:"Times New Roman", Times, Georgia, serif;
    }
    #slideCoverConsent .consentHeader{
      text-align:center;
      font-style:italic;
      margin-bottom:10px;
      color:#111;
    }
    #slideCoverConsent .consentHeaderLine{ font-size:16px; }
    #slideCoverConsent .consentBox{
      border:1px solid #444;
      padding:12px;
    }
    #slideCoverConsent .consentLabel{
      font-weight:700;
      font-size:14px;
      margin-bottom:2px;
    }
    #slideCoverConsent .consentTitle{
      font-weight:700;
      font-size:16px;
      margin-bottom:8px;
    }
    #slideCoverConsent .consentSection{
      font-size:14px;
      line-height:1.35;
      margin-top:8px;
    }
    #slideCoverConsent .consentHeading{ font-weight:700; }
    #slideCoverConsent .consentList{
      margin:6px 0 8px 18px;
      font-size:14px;
      line-height:1.35;
    }
    #slideCoverConsent .consentFooter{
      margin-top:10px;
      font-size:14px;
      line-height:1.35;
    }
    #slideCoverConsent .consentThanks{
      text-align:center;
      font-style:italic;
      margin-top:10px;
    }
    #slideCoverConsent .consentScroll{
      max-height: min(70vh, 520px);
      overflow:auto;
      padding-right:8px;
    }

    .consentLook{ font-family:"Times New Roman", Times, Georgia, serif; }
    .demoList{ display:flex; flex-direction:column; gap:16px; }
    .demoRow label{ margin-bottom:6px; }
    .demoRow input[type="text"], .demoRow input[type="number"]{ margin-top:6px; }
    .demoInline{
      display:inline-flex;
      align-items:center;
      gap:6px;
      margin-right:12px;
      font-size:14px;
      color:#333;
    }
    .demoLabel{ font-size:13px; color:#333; margin-right:8px; }

    .infoList{
      margin: 10px 0 0 0;
      padding-left: 18px;
      color: #444;
      font-size: 14px;
      line-height: 1.5;
    }
    .smallNote{ font-size:12px; color:#666; margin-top:8px; }

    #prompt{ text-align:center; font-size:22px; font-weight:650; margin: 10px 0 6px 0; line-height:1.15; }
    #prompt strong{ font-weight:800; }
    #subPrompt{ text-align:center; font-size:14px; color:#555; margin: 0 0 8px 0; }

    #buttonRow{ display:flex; justify-content:center; align-items:center; gap:12px; margin: 6px 0 4px 0; flex-wrap:wrap; }
    #regionButtons{ display:flex; gap:10px; flex-wrap:wrap; justify-content:center; }
    #axisButtons{ display:flex; gap:10px; flex-wrap:wrap; justify-content:center; }

    .btnN{ background:#1039c1; color:#fff; border-color:#1039c1; }
    .btnS{ background:#d01212; color:#fff; border-color:#d01212; }
    .btnE{ background:#eded35; color:#111; border-color:#c8c800; }
    .btnW{ background:#35d40d; color:#111; border-color:#2db60b; }

    #undoBtn{ background:#fff; }

    #mapWrap{ position:relative; height:100%; max-width:1400px; margin:0 auto; }
    #mapWrap svg{
      width:100%;
      height:100%;
      display:block;
      border:1px solid #ddd;
      background:#fff;
      position:relative;
      z-index:1;
      border-radius: 12px;
      box-shadow: var(--shadow);
    }

    #marker{
      position:absolute;
      z-index:10;
      width:16px;
      height:16px;
      border-radius:50%;
      transform:translate(-50%,-50%);
      display:none;
      pointer-events:none;
      background:rgba(255,50,120,0.95);
      box-shadow:0 0 0 6px rgba(255,50,120,0.25);
      animation:pulse 1.2s infinite;
    }
    @keyframes pulse{
      0%{box-shadow:0 0 0 4px rgba(255,50,120,0.25);}
      50%{box-shadow:0 0 0 10px rgba(255,50,120,0.1);}
      100%{box-shadow:0 0 0 4px rgba(255,50,120,0.25);}
    }
  </style>
</head>

<body>
  <div id="topbar">
    <div id="headerRow">
      <div id="titleBlock"></div>

      <div id="progressWrap">
        <progress id="progressBar" value="0" max="100"></progress>
        <span id="progressText"></span>
      </div>
    </div>

    <div class="slide active" id="slideCoverConsent">
      <div class="card">
        <div class="coverWrap">
          <div class="crestRow">
            <img class="umCrest" src="logo.png" alt="University crest" />
            <div class="crestText">Uniwersytet Maltański</div>
          </div>
          <div class="coverTitle">Autostereotypy w Polsce</div>
          <div class="coverSub">
            Instytut Kognitywistyki, Uniwersytet Maltański<br/>
            Studentka: Wiktoria Szot • Promotor: Prof. Gordon Sammut<br/>
            Kontakt: wiktoria.szot.24@um.edu.mt
          </div>

          <div class="coverCard">
            <div class="consentScroll">
              <div class="consentHeader">
                <div class="consentHeaderLine">Uniwersytet Maltański</div>
                <div class="consentHeaderLine">Wydział Mediów i Nauk Społecznych</div>
                <div class="consentHeaderLine">Instytut Kognitywistyki</div>
              </div>

              <div class="consentBox">
                <div class="consentLabel">Formularz świadomej zgody na udział w projekcie badawczym:</div>
                <div class="consentTitle">Między narodem a Europą: autostereotypy na Malcie i w Polsce</div>

                <div class="consentSection">
                  <span class="consentHeading">Cel badania:</span>
                  Badanie dotyczy tego, jak ludzie rozumieją i reprezentują tożsamości narodowe i regionalne w Europie. W szczególności sprawdzamy, jak osoby z różnych krajów Europy mentalnie organizują Europę w regiony oraz jak opisują typowe cechy własnej grupy narodowej.
                </div>

                <div class="consentSection"><span class="consentHeading">Kryteria udziału:</span> Uczestnicy muszą mieć ukończone 18 lat oraz posiadać obywatelstwo polskie lub maltańskie.</div>
                <div class="consentSection"><span class="consentHeading">Przebieg:</span> Jeśli zgadzasz się wziąć udział w badaniu, wykonasz następujące zadania:</div>
                <ul class="consentList">
                  <li>Opisz „typowego” członka własnej grupy narodowej, wypisując jego cechy (do 8 pozytywnych i do 8 negatywnych).</li>
                  <li>Zobaczysz mapę Europy i zostaniesz poproszony/a o kategoryzowanie państw europejskich zgodnie z własnym osądem.</li>
                </ul>
                <div class="consentSection">Badanie jest jednorazowe i powinno zająć około 10-15 minut.</div>

                <div class="consentSection"><span class="consentHeading">Dobrowolność:</span> Udział w badaniu jest całkowicie dobrowolny. Możesz przerwać udział w dowolnym momencie bez podawania powodu i bez żadnych negatywnych konsekwencji.</div>

                <div class="consentSection"><span class="consentHeading">Poufność:</span> Wszystkie informacje zebrane w badaniu pozostaną poufne i będą kodowane unikalnym identyfikatorem uczestnika. Dane będą przechowywane w Google Sheets, wykorzystywane wyłącznie do celów naukowych i mogą być raportowane jedynie w formie zagregowanej. Masz prawo żądać dostępu do danych lub ich usunięcia zgodnie z przepisami o ochronie danych.</div>

                <div class="consentSection"><span class="consentHeading">Ryzyka i korzyści:</span> Udział w badaniu nie wiąże się z ryzykiem. Nie ma bezpośrednich korzyści osobistych, ale Twój udział pomoże lepiej zrozumieć tożsamość, stereotypizację i percepcję społeczną w Europie.</div>
              </div>

              <div class="consentFooter">
                <div class="consentHeading">Kontakt:</div>
                <div>W razie pytań skontaktuj się z Wiktorią Szot (wiktoria.szot.24@um.edu.mt).</div>
              </div>

              <div class="consentFooter">
                <div class="consentHeading">Zgoda</div>
                <div>Klikając przycisk „Dalej”, potwierdzasz, że:</div>
                <ul class="consentList">
                  <li>Przeczytałeś/aś i zrozumiałeś/aś powyższe informacje.</li>
                  <li>Masz ukończone 18 lat.</li>
                  <li>Dobrowolnie wyrażasz zgodę na udział w badaniu.</li>
                </ul>
              </div>

              <div class="consentThanks">Dziękujemy za udział!</div>

              <div style="margin-top:12px;">
                <label style="display:flex; gap:10px; align-items:flex-start; cursor:pointer;">
                  <input id="consent" type="checkbox" style="margin-top:3px;">
                  <span style="font-size:14px; color:#333;">
                    Potwierdzam, że mam ukończone 18 lat i dobrowolnie wyrażam zgodę na udział w badaniu.
                  </span>
                </label>
              </div>

              <div class="btnRow">
                <button class="primary" id="consentNext" type="button">Dalej</button>
              </div>

              <div class="error" id="consentError"></div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="slide centeredSlide" id="slideDemographics">
      <div class="card consentLook">
        <div class="h1">Dane demograficzne</div>
        <div class="p">Proszę odpowiedzieć na poniższe pytania:</div>

        <div class="demoList">
          <div class="demoRow">
            <label for="age">Wiek</label>
            <input id="age" type="number" min="18" max="120" placeholder="np. 24" />
          </div>

          <div class="demoRow">
            <span class="demoLabel">Płeć:</span>
            <label class="demoInline">
              <input id="genderMale" name="gender" type="radio" value="male" />
              Mężczyzna
            </label>
            <label class="demoInline">
              <input id="genderFemale" name="gender" type="radio" value="female" />
              Kobieta
            </label>
          </div>

          <div class="demoRow">
            <label for="nationality">Obywatelstwo</label>
            <input id="nationality" type="text" placeholder="np. polskie" />
          </div>
        </div>

        <div class="btnRow">
          <button class="ghost" id="demoBack" type="button">Wstecz</button>
          <button class="primary" id="demoNext" type="button">Dalej</button>
        </div>

        <div class="error" id="demoError"></div>
      </div>
    </div>

    <div class="slide centeredSlide" id="slideInstrPos">
      <div class="card">
        <div class="h1">Pozytywne cechy</div>
        <div class="p">
          Wypisz <strong>do 8 POZYTYWNYCH cech</strong>, które kojarzysz z Polakami.
        </div>
        <ul class="infoList">
          <li>Używaj pojedynczych słów lub krótkich fraz.</li>
          <li>Możesz zostawić pola puste, jeśli nie przychodzą Ci do głowy kolejne cechy.</li>
          <li>Nie ma dobrych ani złych odpowiedzi.</li>
          <li>Odpowiedz zgodnie z pierwszym skojarzeniem.</li>
        </ul>
        <div class="btnRow">
          <button class="ghost" id="instrPosBack" type="button">Wstecz</button>
          <button class="primary" id="instrPosNext" type="button">Dalej</button>
        </div>
      </div>
    </div>

    <div class="slide centeredSlide" id="slidePos">
      <div class="card">
        <div class="h1">Opisz Polaków</div>
        <div class="p">Wpisz <strong>do 8 pozytywnych cech</strong> (pojedyncze słowa lub krótkie frazy).</div>
        <div class="traitsGrid" id="posTraitsGrid"></div>

        <div class="btnRow">
          <button class="ghost" id="posBack" type="button">Wstecz</button>
          <button class="primary" id="posNext" type="button">Dalej</button>
        </div>

        <div class="error" id="posError"></div>
      </div>
    </div>

    <div class="slide centeredSlide" id="slideInstrNeg">
      <div class="card">
        <div class="h1">Negatywne cechy</div>
        <div class="p">
          Wypisz <strong>do 8 NEGATYWNYCH cech</strong>, które kojarzysz z Polakami.
        </div>
        <ul class="infoList">
          <li>Używaj pojedynczych słów lub krótkich fraz.</li>
          <li>Możesz zostawić pola puste, jeśli nie przychodzą Ci do głowy kolejne cechy.</li>
          <li>Nie ma dobrych ani złych odpowiedzi.</li>
          <li>Odpowiedz zgodnie z pierwszym skojarzeniem.</li>
        </ul>
        <div class="btnRow">
          <button class="ghost" id="instrNegBack" type="button">Wstecz</button>
          <button class="primary" id="instrNegNext" type="button">Dalej</button>
        </div>
      </div>
    </div>

    <div class="slide centeredSlide" id="slideNeg">
      <div class="card">
        <div class="h1">Opisz Polaków</div>
        <div class="p">Wpisz <strong>do 8 negatywnych cech</strong> (pojedyncze słowa lub krótkie frazy).</div>
        <div class="traitsGrid" id="negTraitsGrid"></div>

        <div class="btnRow">
          <button class="ghost" id="negBack" type="button">Wstecz</button>
          <button class="primary" id="negNext" type="button">Dalej</button>
        </div>

        <div class="error" id="negError"></div>
      </div>
    </div>

    <div class="slide centeredSlide" id="slideInstrMap">
      <div class="card">
        <div class="h1">Kategoryzuj kraje</div>
        <div class="p">
          Zobaczysz mapę Europy. Dla każdego kraju najpierw zdecyduj, czy lepiej pasuje do osi <strong>Północ–Południe</strong> czy <strong>Wschód–Zachód</strong>.
          Następnie wybierz konkretny kierunek na tej osi (np. <strong>Północ</strong>), a na końcu wybierz kierunek na drugiej osi.
        </div>
        <ul class="infoList">
          <li>Nie ma poprawnych odpowiedzi — użyj własnego osądu.</li>
          <li>Staraj się oceniać każdy kraj niezależnie.</li>
          <li>Możesz użyć przycisku <strong>Cofnij</strong>, aby zmienić poprzednią odpowiedź.</li>
          <li>Wskaźnik postępu pokaże, ile już zostało wykonane.</li>
        </ul>
        <div class="btnRow">
          <button class="ghost" id="instrMapBack" type="button">Wstecz</button>
          <button class="primary" id="instrMapNext" type="button">Dalej</button>
        </div>
      </div>
    </div>

    <div class="slide" id="slideMapTop">
      <div id="prompt"></div>
      <div id="subPrompt"></div>

      <div id="buttonRow">
        <div id="axisButtons">
          <button class="ghost" data-axis="NS" type="button">Północ–Południe</button>
          <button class="ghost" data-axis="EW" type="button">Wschód–Zachód</button>
        </div>

        <div id="regionButtons">
          <button class="btnN" data-region="N" type="button">Północ</button>
          <button class="btnS" data-region="S" type="button">Południe</button>
          <button class="btnW" data-region="W" type="button">Zachód</button>
          <button class="btnE" data-region="E" type="button">Wschód</button>
        </div>

        <button id="undoBtn" type="button">Cofnij</button>
      </div>

      <input type="hidden" id="mapData" value="">
    </div>

    <div class="slide centeredSlide" id="slideDebrief">
      <div class="card">
        <div class="h1">Dane zapisane</div>
        <div class="p">Dane zostały zapisane — dziękujemy za udział!</div>
      </div>
    </div>

  </div>

  <div id="content">
    <div id="mapWrap">
      <div id="marker" aria-hidden="true"></div>
    </div>
  </div>

  <script>window.SAMPLE = "PL";</script>
  <script>window.UI_LANG = "pl";</script>
  <script src="main.js"></script>
</body>
</html>

